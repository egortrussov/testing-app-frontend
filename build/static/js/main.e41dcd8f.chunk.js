(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{24:function(e,t,a){},25:function(e,t,a){},27:function(e,t,a){e.exports=a.p+"static/media/logo.d86e2199.svg"},28:function(e,t,a){e.exports=a.p+"static/media/hero.de877d3a.svg"},31:function(e,t,a){e.exports=a(51)},38:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(26),c=a.n(r),l=a(1),o=a(2),i=a(4),u=a(3),m=a(5),d=a(6),p=a(13),h=a(11),f=a.n(h),E=s.a.createContext({tests:[{title:"hello"}]}),v=a(27),b=a.n(v),g=a(28),w=a.n(g),y=(a(38),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("header",null,s.a.createElement("div",{className:"bg-circle-md bg-circle"}),s.a.createElement("div",{className:"bg-circle-dm bg-circle"}),s.a.createElement("div",{className:"nav"},s.a.createElement("div",{className:"nav-left"},s.a.createElement("img",{src:b.a,alt:""}),s.a.createElement("h1",null,"EasyTest"))),s.a.createElement("div",{className:"hero"},s.a.createElement("div",{className:"hero-left"},s.a.createElement("h1",null,"Get your experience in online testing to a whole new level!"),s.a.createElement(d.b,{className:"cta",to:"/app/"},"Try it out!")),s.a.createElement("div",{className:"hero-right"},s.a.createElement("img",{src:w.a,alt:""}))),s.a.createElement("div",{className:"copyright"},"\xa9 2020 Yegor Trussov"))}}]),t}(n.Component)),N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={isLoggedIn:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"logout",value:function(){this.context.logout(),window.location.href="/app/login"}},{key:"render",value:function(){var e=f.a.get("token");console.log(e);var t=""!==e;return s.a.createElement("nav",null,s.a.createElement("div",{className:"nav-item nav-top"},s.a.createElement("h2",{className:"logo"},"EasyTest")),s.a.createElement("div",{className:"nav-item nav-middle"},s.a.createElement(d.c,{exact:!0,className:"nav-link",to:"/app/"},s.a.createElement("i",{className:"fas fa-home"})," Home"),s.a.createElement(d.c,{className:"nav-link",to:"/app/allTests"},s.a.createElement("i",{className:"fas fa-align-left"})," Tests"),s.a.createElement(d.c,{className:"nav-link",to:"/app/createTest"},s.a.createElement("i",{className:"fas fa-pen-alt"})," Create Test")),s.a.createElement("div",{className:"nav-item nav-bottom"},!t&&s.a.createElement(s.a.Fragment,null,s.a.createElement(d.c,{className:"nav-link",to:"/app/login"},"Login"),s.a.createElement(d.c,{className:"nav-link",to:"/app/register"},"Register")),t&&s.a.createElement("button",{className:"nav-link",onClick:this.logout.bind(this)},"Logout")))}}]),t}(n.Component);N.contextType=E;var j=N,k=(a(43),function(){return s.a.createElement("div",{className:"loader-wrapper"},s.a.createElement("div",{className:"loader"}))}),O=function(){return{"x-auth-token":f.a.get("token")}},T=function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth(),s=t.getFullYear();return a+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+s},I=(a(44),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.points,a=e.maxPoints,n=t/a,r="";return r=n>=.85?"excellent":n>=.65?"good":n>=.4?"satisfactory":"bad",s.a.createElement("span",{className:"points-card ".concat(r)},t,s.a.createElement("span",{className:"divider"},"/"),a)}}]),t}(n.Component)),x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={user:null,passedTests:[],isLoading:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/users/user",{headers:O()}).then((function(e){return e.json()})).then((function(t){t.isTokenError&&(e.context.logout(),window.location.href="/app/login"),console.log(t.passedTests),t.passedTests.reverse(),e.setState({user:t,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.user;return e.isLoading?s.a.createElement(k,null):s.a.createElement("div",null,s.a.createElement("h1",{className:"heading"},"Hello, ",t.name,"!"),s.a.createElement("h2",null,"Your recent tests: "),t.passedTests.map((function(e){console.log(e);var a="/app/testInfo/".concat(e.testId);return s.a.createElement(d.b,{to:a,key:e._id,className:"test-card"},s.a.createElement("div",{className:"test-card-left"},s.a.createElement("h3",null,e.title),s.a.createElement("h4",null,T(e.date))),s.a.createElement("div",{className:"test-card-right"},s.a.createElement(I,{points:e.points,maxPoints:e.maxPoints}),s.a.createElement(d.b,{className:"result-link",to:"/app/testResult/".concat(t._id,"/").concat(e._id)},"View result")))})))}}]),t}(n.Component);x.contextType=E;a(24);var S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={isLoading:!0,tests:[],isRedirectToLogin:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/tests/allTests",{headers:O()}).then((function(e){return e.json()})).then((function(t){console.log(t),t.isTokenError?(e.context.logout(),window.location.href="/app/login"):e.setState({isLoading:!1,tests:t})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.tests;return e.isRedirectToLogin?s.a.createElement(p.a,{to:"/app/login"}):t?s.a.createElement(k,null):s.a.createElement("div",null,s.a.createElement("h1",{className:"heading"},"Available tests: "),a.map((function(e){var t="/app/testInfo/".concat(e._id);return s.a.createElement(d.b,{to:t},s.a.createElement("div",{key:e._id,className:"test-card"},s.a.createElement("div",{className:"text-card-left"},s.a.createElement("h3",{className:"test-title"},e.title),s.a.createElement("h4",{className:"test-date"},"Date: ",T(e.createdAt))),s.a.createElement("div",{className:"test-card-right"},s.a.createElement("h3",{className:"test-subject"},"Subject: ",s.a.createElement("span",{className:"subject"},e.subject)),s.a.createElement("h3",null,"Times passed: ",e.results.length))))})))}}]),t}(n.Component);S.contextType=E;var A=a(7),C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={isLoading:!0,test:null,testResults:null,usernames:null,errors:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.testId,a=document.querySelector("span.field");console.log(a),a&&a.addEventListener("keypress",(function(e){13===e.which&&e.preventDefault()})),fetch("/api/tests/testInfo/".concat(t)).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({isLoading:!1,test:t})})),fetch("/api/tests/testResults/".concat(t)).then((function(e){return e.json()})).then((function(t){console.log(t),t.testResults.sort((function(e,t){return t.points-e.points})),e.setState({isLoading:!1,testResults:t.testResults,usernames:t.usernames})}))}},{key:"setAccessKey",value:function(e){this.setState(Object(A.a)({},this.state,{currentAccessKey:e.target.innerText}))}},{key:"goToTest",value:function(){console.log(this.state.test);var e=this.state.currentAccessKey,t=this.state.test,a=t.accessKey,n=t._id,s=t.isProtected;if(a!==e&&s){var r=this.state.errors;r.keyError="Incorrect access key!",this.setState(Object(A.a)({},this.state,{errors:r}))}else window.location.href="/app/passTest/".concat(n)}},{key:"componentDidUpdate",value:function(){var e=document.querySelector("span.field");console.log(e),e.addEventListener("keypress",(function(e){13===e.which&&e.preventDefault()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.test,r=t.testResults,c=t.errors;return a||null===n?s.a.createElement(k,null):s.a.createElement("div",null,s.a.createElement("div",{className:"page-top"},s.a.createElement(d.b,{to:"/app/allTests"},s.a.createElement("i",{className:"fas fa-arrow-left"})," Back")),s.a.createElement("h1",null,n.title),s.a.createElement("p",null,n.description),n.isProtected&&s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),s.a.createElement("label",{htmlFor:"title"},"To start the test, you need to type in the secret key!")," ",s.a.createElement("br",null),s.a.createElement("span",{id:"field",className:"field",contenteditable:"true",onInput:function(t){return e.setAccessKey(t)},type:"text",name:"title"}),s.a.createElement("span",{className:"error-input"},c.keyError)),s.a.createElement("br",null),s.a.createElement("button",{onClick:function(){return e.goToTest()},className:"btn btn-cta"},"Pass test!"),s.a.createElement("div",{className:"results"},s.a.createElement("h3",null,"Results: "),s.a.createElement("table",null,s.a.createElement("col",{className:"username"}),s.a.createElement("col",{className:"points"}),s.a.createElement("tr",null,s.a.createElement("th",null,"User"),s.a.createElement("th",{className:"points"},"Points")),null===r?function(){return s.a.createElement(k,null)}:r.map((function(e){return s.a.createElement("tr",{className:"resultTr",key:e.userId+e.points},s.a.createElement("td",null,e.username),s.a.createElement("td",{className:"points"},s.a.createElement(I,{points:e.points,maxPoints:e.answers.length})))})))))}}]),t}(n.Component),L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={createdTests:[],isLoading:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.context.userId||(window.location.href="/app/login"),fetch("/api/tests/createdTests/".concat(this.context.userId)).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({createdTests:t,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.createdTests;return e.isLoading?s.a.createElement(k,null):s.a.createElement("div",null,s.a.createElement("h1",{className:"heading"},"Currently, you have ",t.length," created tests"),t.map((function(e){var t="/app/testInfo/".concat(e._id);return s.a.createElement(d.b,{to:t},s.a.createElement("div",{key:e._id,className:"test-card"},s.a.createElement("div",{className:"text-card-left"},s.a.createElement("h3",{className:"test-title"},e.title),s.a.createElement("h4",{className:"test-date"},"Date: ",e.createdAt)),s.a.createElement("div",{className:"test-card-right"},s.a.createElement("h3",{className:"test-subject"},"Subject: ",s.a.createElement("span",{className:"subject"},e.subject)),s.a.createElement("h3",null,"Times passed: ",e.results.length))))})),s.a.createElement(d.b,{to:"/app/createTestForm",className:"btn btn-cta"},"New test"))}}]),t}(n.Component);L.contextType=E;a(45);var q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={isLoading:!0,test:null,answers:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userId,a=this.props.match.params.resultId;fetch("/api/tests/testResult/".concat(t,"/").concat(a)).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({isLoading:!1,answers:t.answers,test:t.test})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.test,n=e.answers;return a&&console.log(a.questions[0]),console.log(n),t?s.a.createElement(k,null):s.a.createElement("div",null,s.a.createElement("div",{className:"page-top"},s.a.createElement(d.b,{to:"/app/"},s.a.createElement("i",{className:"fas fa-arrow-left"})," Back")),s.a.createElement("h1",{className:"heading"},'Test result for "',a.title,'"'),s.a.createElement("div",{className:"result-table"},s.a.createElement("table",null,s.a.createElement("col",{className:"main"}),n.map((function(e){return s.a.createElement("col",{className:"answer"})})),s.a.createElement("tr",{className:"first"},s.a.createElement("th",{className:"first main"},"Question No."),n.map((function(e,t){return s.a.createElement("th",{className:"first ans"},t+1)}))),s.a.createElement("tr",null,s.a.createElement("th",{className:"main"},"Result: "),n.map((function(e,t){var n="";console.log(toString(e));var r=e.toString()===a.questions[t].correctAnswerId;return n=parseInt(e)===parseInt(a.questions[t].correctAnswerId)?"correct":"wrong",s.a.createElement("th",{className:"answerr ans ".concat(n)},r?s.a.createElement("i",{className:"far fa-check-circle"}):s.a.createElement("i",{className:"far fa-times-circle"}))}))))),n.map((function(e,t){var n="";e.toString()===a.questions[t].correctAnswerId||(n="wrong");var r=a.questions[t];return console.log(r.answers[parseInt(r.correctAnswerId)]),s.a.createElement("div",{className:"question-ans"},s.a.createElement("h3",null,t+1,". ",r.title),s.a.createElement("span",{className:"ans-text "+n},"Your answer: ",e,") ",r.answers[e-1].text),s.a.createElement("span",{className:"ans-text"},"Correct answer: ",r.correctAnswerId,") ",r.answers[parseInt(r.correctAnswerId)-1].text))})))}}]),t}(n.Component),P=(a(46),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={questions:[{title:"",answers:[{text:"",answerId:"1"},{text:"",answerId:"2"}],correctAnswerId:"1"}],title:"",description:"",subject:"",isProtected:!1,accessKey:"",creator:a.context.userId},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleAddAnswer",value:function(e){var t=this.state.questions,a=t[e].answers.length;console.log(a.toString()),6!==t[e].answers.length&&(t[e].answers.push({text:"",answerId:(a+1).toString()}),console.log(t[e].answers),this.setState(Object(A.a)({},this.state,{questions:t})))}},{key:"handleAddQuestion",value:function(){var e=this.state.questions;20!==e.length&&(e.push({title:"",answers:[{text:"",answerId:"1"},{text:"",answerId:"2"}],correctAnswerId:"1"}),this.setState(Object(A.a)({},this.state,{questions:e})))}},{key:"setQuestionTitle",value:function(e,t){var a=this.state.questions;a[t].title=e.target.innerText,this.setState(Object(A.a)({},this.state,{questions:a}))}},{key:"setAnswerText",value:function(e,t,a){console.log(e.target.innerText);var n=this.state.questions;console.log(n[t].answers,a),n[t].answers[a].text=e.target.innerText,this.setState(Object(A.a)({},this.state,{questions:n}))}},{key:"setTestTitle",value:function(e){this.setState(Object(A.a)({},this.state,{title:e.target.innerText}))}},{key:"setTestDescription",value:function(e){this.setState(Object(A.a)({},this.state,{description:e.target.innerText}))}},{key:"setTestSubject",value:function(e){var t=this;this.setState(Object(A.a)({},this.state,{subject:e.target.innerText}),(function(){return console.log(t.state.subject)}))}},{key:"setProtectedState",value:function(e){this.setState(Object(A.a)({},this.state,{isProtected:!this.state.isProtected,accessKey:""}))}},{key:"setAccessKey",value:function(e){this.setState(Object(A.a)({},this.state,{accessKey:e.target.innerText}))}},{key:"setCorrectAnswerId",value:function(e,t){var a=this.state.questions;a[e].correctAnswerId=t,console.log(t),this.setState(Object(A.a)({},this.state,{questions:a}))}},{key:"handleAddTest",value:function(){this.context.userId||(window.location.href="/app/login"),fetch("/api/tests/createTest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state)}).then((function(e){return e.json()})).then((function(e){window.location.href="/app/allTests"}))}},{key:"deleteAnswer",value:function(e,t){var a=this.state.questions;if(!(a[e].answers.length<=2)){var n=parseInt(t);a[e].correctAnswerId.toString()===(t+1).toString()&&(0===t?a[e].correctAnswerId="1":(console.log("fff"),a[e].correctAnswerId=t.toString()));for(var s=n;s<a[e].answers.length;s++)a[e].answers[s].answerId=(parseInt(a[e].answers[s].answerId)-1).toString(),s!==n&&(document.getElementById("_".concat(e,"-").concat(s-1)).innerText=a[e].answers[s].text);console.log(t),a[e].answers.splice(t,1),console.log(a[e].answers),this.setState(Object(A.a)({},this.state,{questions:a}))}}},{key:"deleteQuestion",value:function(e){var t=this.state.questions;1!==t.length&&(t.splice(e,1),this.setState(Object(A.a)({},this.state,{questions:t})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.questions,n=t.isProtected,r=["A","B","C","D","E","F"];return s.a.createElement("div",null,s.a.createElement("h1",{className:"heading"},"Create test"),s.a.createElement("div",{className:"test-basic-info"},s.a.createElement("div",{className:"info-group"},s.a.createElement("label",{htmlFor:"title"},"Test name: "),s.a.createElement("span",{className:"field",contenteditable:"true",onInput:function(t){return e.setTestTitle(t)},type:"text",name:"title"}," ")),s.a.createElement("div",{className:"info-group"},s.a.createElement("label",{htmlFor:"subject"},"Subject: "),s.a.createElement("span",{className:"field",contenteditable:"true",onInput:function(t){return e.setTestSubject(t)},type:"text",name:"subject"}," ")),s.a.createElement("div",{className:"info-group"},s.a.createElement("label",{htmlFor:"description"},"Description: "),s.a.createElement("textarea",{className:"",onChange:function(t){return e.setTestDescription(t)},name:"description",id:"",cols:"30",rows:"10"})),s.a.createElement("div",{className:"info-group-checkbox"},s.a.createElement("input",{onChange:this.setProtectedState.bind(this),type:"checkbox",name:"isProtected"}),s.a.createElement("label",{htmlFor:"isProtected",name:"isProtected"},"Protected")),n&&s.a.createElement("div",{className:"info-group"},s.a.createElement("label",{htmlFor:"key"},"Secret key: "),s.a.createElement("span",{class:"field",contenteditable:"true",onInput:function(t){return e.setAccessKey(t)},name:"key"}," "))),s.a.createElement("div",{className:"questions"},a.map((function(t,a){return s.a.createElement("div",{className:"question-card"},s.a.createElement("button",{onClick:function(){return e.deleteQuestion(a)},className:"btn-delete"},s.a.createElement("span",null,"\xd7")),s.a.createElement("label",{className:"title"},s.a.createElement("span",null,a+1,".")," "),s.a.createElement("span",{className:"input",contenteditable:"true",type:"text",onInput:function(t){return e.setQuestionTitle(t,a)}},"Title"),s.a.createElement("div",{className:"answers"},t.answers.map((function(n,c){return s.a.createElement("div",{className:"ans-card"},s.a.createElement("button",{onClick:function(){return e.deleteAnswer(a,c)},className:"btn-delete"},s.a.createElement("span",null,"\xd7")),s.a.createElement("input",{type:"radio",id:"".concat(a,"-").concat(c),name:a,title:"Mark as correct",onChange:function(){return e.setCorrectAnswerId(a,n.answerId)},checked:t.correctAnswerId===n.answerId}),s.a.createElement("label",{htmlFor:"".concat(a,"-").concat(c)}),s.a.createElement("span",{className:"ans-letter"},r[c],") "),s.a.createElement("span",{id:"_".concat(a,"-").concat(c),className:"input",contenteditable:"true",onInput:function(t){return e.setAnswerText(t,a,c)},type:"text"}))})),s.a.createElement("button",{onClick:e.handleAddAnswer.bind(e,a),className:"add-question"},s.a.createElement("span",null,"+"))))})),s.a.createElement("button",{onClick:this.handleAddQuestion.bind(this),className:"new-question btn-secondary"},"New question")),s.a.createElement("button",{onClick:this.handleAddTest.bind(this),className:"btn btn-cta"},"Create test!"))}}]),t}(n.Component));P.contextType=E;a(47);var D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={isLoading:!0,test:[],answers:[],answeredQuestions:0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.testId;fetch("/api/tests/testInfo/".concat(t)).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({isLoading:!1,test:t})}))}},{key:"handleSelect",value:function(e,t){var a=this;console.log(e,t);var n=this.state,s=n.answers,r=n.answeredQuestions;"undefined"===typeof s[e]&&r++,s[e]=t,this.setState(Object(A.a)({},this.state,{answers:s,answeredQuestions:r}),(function(){return console.log(a.state)}))}},{key:"finishTest",value:function(e){e.preventDefault();var t=0,a=[],n=this.state,s=n.answers,r=n.test;r.questions.map((function(e,n){return e.correctAnswerId===s[n]?(t++,a.push(!0)):a.push(!1),e}));var c={userId:this.context.userId,points:t,answers:a,title:r.title,maxPoints:r.questions.length,date:Date.now(),answersLetters:s};fetch("/api/tests/saveResult/".concat(r._id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(){console.log("result saved!"),window.location.href="/app/testInfo/".concat(r._id)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.test,r=n.questions;return a?s.a.createElement(k,null):s.a.createElement("form",{className:"test-form",onSubmit:function(t){return e.finishTest(t)}},s.a.createElement("h1",{className:"heading"},"Pass test '",n.title,"'"),s.a.createElement("div",{className:"test-questions"},r.map((function(t,a){return s.a.createElement("div",{className:"question-card"},s.a.createElement("h3",{className:"question-title"},a+1,".  ",t.title),s.a.createElement("div",{className:"answers"},t.answers.map((function(t){return s.a.createElement("div",{className:"answer"},s.a.createElement("input",{onChange:e.handleSelect.bind(e,a,t.answerId),id:t._id,type:"radio",name:a}),s.a.createElement("label",{htmlFor:t._id},t.text))}))))}))),s.a.createElement("input",{type:"submit",className:"btn btn-cta",value:"Finish"}))}}]),t}(n.Component);D.contextType=E;var F=a(15),R=(a(25),function(e){var t=[];return e.forEach((function(e){"email"===e.name&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e.value)||(t.email="Invalid email")),"password"===e.name&&e.value.length<6&&(t.password="Password must be at least 6 characters"),"fullName"===e.name&&e.value.trim().length<=5&&(t.fullName="Please enter a real full name")})),t}),_=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={email:"",password:"",errors:[]},a.formEl=s.a.createRef(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelector("#psw"),t=document.querySelector("#email");e.addEventListener("focus",(function(e){}),!1),e.addEventListener("keyup",(function(e){console.log(e.keyCode)}),!1),t.addEventListener("keypress",(function(e){13===e.which&&e.preventDefault()}),!1),e.addEventListener("keypress",(function(e){13===e.which&&e.preventDefault()}),!1)}},{key:"setCredential",value:function(e){console.log(e.target),this.setState(Object(A.a)({},this.state,Object(F.a)({},e.target.getAttribute("data-name"),e.target.innerHTML)))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=[{name:"email",value:this.state.email},{name:"password",value:this.state.password}],n=R(a);if(console.log(n.email),n.email||n.password)this.setState(Object(A.a)({},this.state,{errors:n}));else{n=[];var s={email:this.state.email,password:this.state.password};fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){e.success?(t.context.setToken(e.token,e.user._id),window.location.href="/app/"):(e.doesUserExist?n.password="Incorrect password":n.email="User does not exist!",t.setState(Object(A.a)({},t.state,{errors:n})))}))}}},{key:"render",value:function(){var e=this,t=this.state.errors;return console.log(t.email),s.a.createElement("div",null,s.a.createElement("h1",{className:"heading"},"Log in"),s.a.createElement("form",{id:"login-form",onSubmit:function(t){return e.handleSubmit(t)}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"E-mail: "),s.a.createElement("span",{"data-name":"email",onInput:function(t){return e.setCredential(t)},className:"field",contentEditable:"true",id:"email"}),s.a.createElement("span",{className:"error-input"},t.email)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Password: "),s.a.createElement("span",{"data-name":"password",onInput:function(t){return e.setCredential(t)},id:"psw",className:"field with-input",contentEditable:"true"}),s.a.createElement("span",{className:"error-input"},t.password)),s.a.createElement("input",{type:"submit",className:"btn btn-cta",value:"Log in"})))}}]),t}(n.Component);_.contextType=E;var M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={email:"",password:"",confirmPassword:"",name:"",errors:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelector("#password"),t=document.querySelector("#confirmPassword"),a=document.querySelector("#email");e.addEventListener("focus",(function(e){}),!1),e.addEventListener("keyup",(function(e){console.log(e.keyCode)}),!1),t.addEventListener("focus",(function(e){}),!1),t.addEventListener("keyup",(function(e){console.log(e.keyCode)}),!1),a.addEventListener("keypress",(function(e){13===e.which&&e.preventDefault()}),!1),document.querySelectorAll(".field").forEach((function(e){e.addEventListener("keypress",(function(e){13===e.which&&e.preventDefault()}))})),e.addEventListener("keypress",(function(e){13===e.which&&e.preventDefault()}),!1),t.addEventListener("keypress",(function(e){13===e.which&&e.preventDefault()}),!1)}},{key:"setCredential",value:function(e){this.setState(Object(F.a)({},e.target.id,e.target.innerHTML))}},{key:"registerUser",value:function(e){var t=this;e.preventDefault();var a=[{name:"email",value:this.state.email},{name:"password",value:this.state.password},{name:"fullName",value:this.state.name}],n=R(a);if(this.state.password!==this.state.confirmPassword&&(n.confirmPassword="Passwords do not match"),n.email||n.password||n.fullName||n.confirmPassword)this.setState(Object(A.a)({},this.state,{errors:n}));else{var s={email:this.state.email,password:this.state.password,name:this.state.name};if(this.state.confirmPassword!==s.password)return;fetch("/api/users/addUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.notSuccess?((n=[]).email="User with such email already exists",t.setState(Object(A.a)({},t.state,{errors:n}))):(t.context.setToken(e.token,e.user._id),window.location.href="/app/")}))}}},{key:"render",value:function(){var e=this,t=this.state.errors;return s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{className:"heading"},"Register"),s.a.createElement("form",{onSubmit:function(t){return e.registerUser(t)}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"E-mail: "),s.a.createElement("span",{onInput:function(t){return e.setCredential(t)},contenteditable:"true",className:"field",type:"text",name:"",id:"email"}),s.a.createElement("span",{className:"error-input"},t.email)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Full name: "),s.a.createElement("span",{onInput:function(t){return e.setCredential(t)},contenteditable:"true",className:"field",type:"text",name:"",id:"name"}),s.a.createElement("span",{className:"error-input"},t.fullName)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Password: "),s.a.createElement("span",{onInput:function(t){return e.setCredential(t)},contenteditable:"true",className:"field",type:"text",name:"",id:"password"}),s.a.createElement("span",{className:"error-input"},t.password)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"Confirm password: "),s.a.createElement("span",{onInput:function(t){return e.setCredential(t)},contenteditable:"true",className:"field",type:"text",name:"",id:"confirmPassword"}),s.a.createElement("span",{className:"error-input"},t.confirmPassword)),s.a.createElement("input",{type:"submit",className:"btn btn-cta",value:"Create account"})))}}]),t}(n.Component);M.contextType=E;a(48),a(49);var K=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(d.a,null,s.a.createElement("div",{className:"app-container"},s.a.createElement(j,null),s.a.createElement("main",null,s.a.createElement(p.d,null,s.a.createElement(p.b,{exact:!0,path:"/app/",component:x}),s.a.createElement(p.b,{path:"/app/allTests",component:S}),s.a.createElement(p.b,{path:"/app/testInfo/:testId",component:C}),s.a.createElement(p.b,{path:"/app/testResult/:userId/:resultId",component:q}),s.a.createElement(p.b,{path:"/app/createTest",component:L}),s.a.createElement(p.b,{path:"/app/createTestForm",component:P}),s.a.createElement(p.b,{path:"/app/passTest/:testId",component:D}),s.a.createElement(p.b,{path:"/app/login",component:_}),s.a.createElement(p.b,{path:"/app/register",component:M})))))}}]),t}(n.Component),Q=(a(50),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={userId:f.a.get("userId"),token:f.a.get("token")},a.setToken=function(e,t){a.setState({token:e,userId:t}),f.a.set("token",e),f.a.set("userId",t)},a.logout=function(){a.setState({token:"",userId:""}),f.a.set("token",""),f.a.set("userId","")},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.token,a=e.userId;return s.a.createElement(d.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(E.Provider,{value:{token:t,userId:a,setToken:this.setToken,logout:this.logout}},s.a.createElement(p.d,null,s.a.createElement(p.b,{exact:!0,path:"/",component:y}),s.a.createElement(p.b,{path:"/app",component:K})))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.e41dcd8f.chunk.js.map